# ===========================================
# Pickle Go - 生產環境變數範例
# ===========================================
# 這是生產環境所需的環境變數範例
# 實際部署時，敏感資訊應存放在 GCP Secret Manager

# === Server Configuration ===
PORT=8080
ENVIRONMENT=production

# === Database (Cloud SQL) ===
# 格式: postgres://USER:PASSWORD@/DATABASE?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
# 注意: 此值應存放在 Secret Manager (pickle-go-database-url)
DATABASE_URL=postgres://picklego-user:xxxxx@/picklego?host=/cloudsql/your-project:asia-east1:pickle-go-db

# === Redis (Memorystore) ===
# 如果使用 Memorystore for Redis
REDIS_URL=redis://10.0.0.1:6379

# === JWT Authentication ===
# 注意: 此值應存放在 Secret Manager (pickle-go-jwt-secret)
# 生產環境必須使用強度足夠的隨機密鑰 (至少 32 字元)
JWT_SECRET=your-production-jwt-secret-at-least-32-characters
JWT_EXPIRY=168h

# === Line Login ===
# 注意: 這些值應存放在 Secret Manager
# LINE_CHANNEL_ID: pickle-go-line-channel-id
# LINE_CHANNEL_SECRET: pickle-go-line-channel-secret
LINE_CHANNEL_ID=your-production-line-channel-id
LINE_CHANNEL_SECRET=your-production-line-channel-secret
LINE_REDIRECT_URI=https://picklego.tw/auth/callback

# === Application URLs ===
BASE_URL=https://picklego.tw
API_URL=https://api.picklego.tw

# === CORS ===
CORS_ALLOWED_ORIGINS=https://picklego.tw,https://www.picklego.tw

# === Sentry Error Monitoring ===
# API 後端的 Sentry DSN
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# ===========================================
# Frontend (Next.js) Environment Variables
# ===========================================
# 這些變數在建置時會被嵌入到前端程式碼中

# === Public Variables (exposed to browser) ===
NEXT_PUBLIC_API_URL=https://api.picklego.tw
NEXT_PUBLIC_BASE_URL=https://picklego.tw
NEXT_PUBLIC_LINE_CHANNEL_ID=your-production-line-channel-id
NEXT_PUBLIC_LINE_REDIRECT_URI=https://picklego.tw/auth/callback
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# === Sentry (Frontend) ===
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# === Google Analytics 4 ===
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ===========================================
# GCP Cloud Build Substitutions
# ===========================================
# 這些變數在 Cloud Build 中作為替換變數使用
# 設定方式: gcloud builds submit --substitutions=_VAR=value

# _REGION=asia-east1
# _API_SERVICE_NAME=pickle-go-api
# _WEB_SERVICE_NAME=pickle-go-web
# _LINE_CHANNEL_ID=your-line-channel-id
# _GOOGLE_MAPS_API_KEY=your-google-maps-api-key
# _SENTRY_DSN_WEB=https://xxx@xxx.ingest.sentry.io/xxx
# _GA_MEASUREMENT_ID=G-XXXXXXXXXX
